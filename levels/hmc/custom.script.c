#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "areas/1/custom.model.inc.h"
#include "levels/hmc/header.h"
extern u8 _hmc_segment_ESegmentRomStart[]; 
extern u8 _hmc_segment_ESegmentRomEnd[];
#include "levels/wdw/header.h"
const LevelScript level_hmc_custom_entry[] = {
INIT_LEVEL(),
LOAD_MIO0(0x07, _wdw_segment_7SegmentRomStart, _wdw_segment_7SegmentRomEnd),
LOAD_RAW(0x1A, _wdwSegmentRomStart, _wdwSegmentRomEnd),
LOAD_RAW(0x0E, _hmc_segment_ESegmentRomStart, _hmc_segment_ESegmentRomEnd),
LOAD_MIO0(0xA,_bbh_skybox_mio0SegmentRomStart,_bbh_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group2_mio0SegmentRomStart,_group2_mio0SegmentRomEnd),
LOAD_RAW(12,_group2_geoSegmentRomStart,_group2_geoSegmentRomEnd),
LOAD_MIO0(6,_group13_mio0SegmentRomStart,_group13_mio0SegmentRomEnd),
LOAD_RAW(13,_group13_geoSegmentRomStart,_group13_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
LOAD_MODEL_FROM_GEO(MODEL_WDW_BUBBLY_TREE,                   bubbly_tree_geo),
    LOAD_MODEL_FROM_GEO(MODEL_WDW_SQUARE_FLOATING_PLATFORM,      wdw_geo_000580),
    LOAD_MODEL_FROM_GEO(MODEL_WDW_ARROW_LIFT,                    wdw_geo_000598),
    LOAD_MODEL_FROM_GEO(MODEL_WDW_WATER_LEVEL_DIAMOND,           wdw_geo_0005C0),
    LOAD_MODEL_FROM_GEO(MODEL_WDW_HIDDEN_PLATFORM,               wdw_geo_0005E8),
    LOAD_MODEL_FROM_GEO(MODEL_WDW_EXPRESS_ELEVATOR,              wdw_geo_000610),
    LOAD_MODEL_FROM_GEO(MODEL_WDW_RECTANGULAR_FLOATING_PLATFORM, wdw_geo_000628),
    LOAD_MODEL_FROM_GEO(MODEL_WDW_ROTATING_PLATFORM,             wdw_geo_000640),
LOAD_MODEL_FROM_GEO(22, warp_pipe_geo),
LOAD_MODEL_FROM_GEO(23, bubbly_tree_geo),
LOAD_MODEL_FROM_GEO(24, spiky_tree_geo),
LOAD_MODEL_FROM_GEO(25, snow_tree_geo),
LOAD_MODEL_FROM_GEO(27, palm_tree_geo),
LOAD_MODEL_FROM_GEO(31, metal_door_geo),
LOAD_MODEL_FROM_GEO(32, hazy_maze_door_geo),
LOAD_MODEL_FROM_GEO(34, castle_door_0_star_geo),
LOAD_MODEL_FROM_GEO(35, castle_door_1_star_geo),
LOAD_MODEL_FROM_GEO(36, castle_door_3_stars_geo),
LOAD_MODEL_FROM_GEO(37, key_door_geo),
LOAD_MODEL_FROM_GEO(38, castle_door_geo),
// LOAD_MODEL_FROM_DL(132,0x08025f08,4),
// LOAD_MODEL_FROM_DL(158,0x0302c8a0,4),
// LOAD_MODEL_FROM_DL(159,0x0302bcd0,4),
// LOAD_MODEL_FROM_DL(161,0x0301cb00,4),
// LOAD_MODEL_FROM_DL(164,0x04032a18,4),
// LOAD_MODEL_FROM_DL(201,0x080048e0,4),
// LOAD_MODEL_FROM_DL(218,0x08024bb8,4),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_3),
JUMP_LINK(script_func_global_14),
JUMP_LINK(local_area_hmc_1_),
FREE_LEVEL_POOL(),
MARIO_POS(1,135,-6558,0,6464),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_hmc_1_[] = {
AREA(1,Geo_hmc_1_0x1621700),
TERRAIN(col_hmc_1_0xe04b7c0),
SET_BACKGROUND_MUSIC(0,51),
TERRAIN_TYPE(0),
JUMP_LINK(local_objects_hmc_1_),
JUMP_LINK(local_warps_hmc_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_hmc_1_[] = {
OBJECT_WITH_ACTS(0,-8253,-311,17030,0,180,0,0xa0000, bhvSpinAirborneWarp,31),
OBJECT_WITH_ACTS(124,286,-2290,17337,0,0,0,0x1a0000, bhvMessagePanel,31),
OBJECT_WITH_ACTS(180,-744,-3003,-7433,0,0,0,0x0, bhvFireSpitter,31),
// OBJECT_WITH_ACTS(201,123,-1137,8743,0,0,0,0x5a0000, bhvCannonClosed,31),
OBJECT_WITH_ACTS(201,123,-1137,8743,0,0,0,0x8a0000, bhvCannonClosed,31), // 0x#a0000 tells which direction an object faces
OBJECT_WITH_ACTS(195,1764,-437,-2532,0,0,0,0x0, bhvBobombBuddyOpensCannon,31),
OBJECT_WITH_ACTS(180,-9351,571,-4400,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-9351,667,-4400,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-9351,763,-4400,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-9351,859,-4400,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-9351,955,-4400,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(122,-3825,-455,-1600,0,0,0,0x0, bhvStar,31),
OBJECT_WITH_ACTS(122,5467,-2334,2984,0,0,0,0x1000000, bhvStar,31),
OBJECT_WITH_ACTS(122,116,-510,14430,0,0,0,0x2000000, bhvStar,31),
OBJECT_WITH_ACTS(122,-13001,141,8335,0,0,0,0x3000000, bhvStar,31),
OBJECT_WITH_ACTS(122,-21070,-1403,11600,0,0,0,0x4000000, bhvStar,31),
OBJECT_WITH_ACTS(122,-16269,-3087,9644,0,0,0,0x5000000, bhvStar,31),
OBJECT_WITH_ACTS(180,130,-760,14230,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,130,-664,14230,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,130,-568,14230,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,130,-472,14230,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,130,-376,14230,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,130,-280,14230,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,130,-184,14230,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,130,-88,14230,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,130,8,14230,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,130,104,14230,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,130,200,14230,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,130,296,14230,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,130,392,14230,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(140,-8747,2947,-7032,0,0,0,0x0, bhvBlueCoinSwitch,31),
OBJECT_WITH_ACTS(118,-9353,2722,-6371,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-9353,2850,-6371,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-9353,2978,-6371,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-9353,3106,-6371,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-9353,3234,-6371,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-8108,2726,-6347,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-8108,2854,-6347,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-8108,2982,-6347,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-8108,3110,-6347,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-8108,3238,-6347,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(0,-2544,-339,-3164,0,0,0,0x20000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-15623,-1584,1548,0,0,0,0x20000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-10575,141,13854,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-2524,-1541,-5180,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,7129,-2710,8694,0,0,0,0x20000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-15875,-1584,11845,0,0,0,0x20000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,12849,-1584,6003,0,0,0,0x20000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,6136,-246,12411,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,121,604,10772,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-22005,-1584,13326,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-12848,-1541,4865,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-25448,-1906,16848,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-1305,-357,-9986,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-12491,1104,11900,0,90,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-19791,-394,15428,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(118,-9329,2710,-7626,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-9329,2838,-7626,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-9329,2966,-7626,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-9329,3094,-7626,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-9329,3222,-7626,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-8081,2722,-7627,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-8081,2850,-7627,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-8081,2978,-7627,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-8081,3106,-7627,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-8081,3234,-7627,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(86,-2578,-382,-3075,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-7710,-1584,2624,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-13205,-1584,1575,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,149,-1122,9431,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,5982,-289,11549,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,1730,-844,-5145,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-12900,-1584,4770,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-12809,-1584,7227,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-21119,-8,11547,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,1046,-844,-10361,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-8740,2947,-7037,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-521,-1196,-8095,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-9739,-1584,15997,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-23117,98,12091,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-3759,-1122,15677,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-5487,-1584,-2731,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-5776,302,-7019,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-8641,302,-9843,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-489,-1584,-6369,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-8783,1208,-5170,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-6834,1208,-6887,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,7639,-1584,10471,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-9068,98,8856,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,7143,-2753,8690,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,3538,-1122,13117,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,122,561,12017,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-7477,-1584,11238,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-15198,-1584,7166,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(0,-4681,-1584,-7514,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-10396,-1520,2776,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,8556,-2431,8685,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-7757,-1584,14883,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-6721,-1584,-2987,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-23838,-1584,15745,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-18325,-1584,13886,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-17305,-437,16873,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,16816,-1011,11494,0,0,0,0x10000, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-8725,2947,-7006,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,6174,-289,11341,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(180,-6416,-1516,2587,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,834,-776,-6742,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-5501,184,-10004,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-2471,-314,-1791,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-11434,166,8933,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-12080,1161,8435,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-12031,1161,11871,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-19579,166,11664,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,8741,-1943,10151,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-1812,-776,-11031,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-15624,-1516,1552,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,5485,-2685,2919,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,128,-1054,9133,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-8930,1563,-8602,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,128,629,11542,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(207,3418,-2808,8860,0,-90,0,0x0, bhvFloorSwitchHiddenObjects,31),
OBJECT_WITH_ACTS(129,5929,-2848,5718,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,6233,-2848,7446,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,6237,-2848,6914,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,6243,-2848,6365,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,6249,-2848,5724,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,5575,-2848,5714,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,5511,-2848,5041,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,4094,-3003,8824,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,4758,-2974,8865,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,5492,-2960,8872,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(223,-17791,-437,16296,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,-3578,-272,-10487,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(212,-16762,-3219,11257,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(188,-7329,-1584,929,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-7498,-1584,-575,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-15864,-1584,13938,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-2871,-1122,12096,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,7542,-1584,12475,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,10495,-1584,13736,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-8715,-1584,7623,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-15710,-1584,10112,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-21074,-437,16504,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-10628,1208,-6869,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(212,-5336,657,9868,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(124,145,-511,2679,0,0,0,0x230000, bhvMessagePanel,31),
RETURN()
};
const LevelScript local_warps_hmc_1_[] = {
WARP_NODE(10,9,1,10,0),
WARP_NODE(11,9,1,12,0),
WARP_NODE(12,9,1,11,0),
WARP_NODE(13,7,1,14,0),
WARP_NODE(14,7,1,13,0),
WARP_NODE(240,6,1,160,0),
WARP_NODE(241,6,1,161,0),
WARP_NODE(0,9,1,10,0),
WARP_NODE(1,9,1,10,0),
WARP_NODE(2,9,1,10,0),
WARP_NODE(3,9,1,10,0),
WARP_NODE(4,9,1,10,0),
WARP_NODE(5,9,1,10,0),
WARP_NODE(6,9,1,10,0),
RETURN()
};
