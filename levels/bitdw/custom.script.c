#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "areas/1/custom.model.inc.h"
#include "areas/2/custom.model.inc.h"
#include "levels/bitdw/header.h"
extern u8 _bitdw_segment_ESegmentRomStart[]; 
extern u8 _bitdw_segment_ESegmentRomEnd[];
#include "levels/ssl/header.h"
const LevelScript level_bitdw_custom_entry[] = {
INIT_LEVEL(),
LOAD_MIO0(0x07, _ssl_segment_7SegmentRomStart, _ssl_segment_7SegmentRomEnd),
LOAD_RAW(0x1A, _sslSegmentRomStart, _sslSegmentRomEnd),
LOAD_RAW(0x0E, _bitdw_segment_ESegmentRomStart, _bitdw_segment_ESegmentRomEnd),
LOAD_MIO0(0xA,_SkyboxCustom29430560_skybox_mio0SegmentRomStart,_SkyboxCustom29430560_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group11_mio0SegmentRomStart,_group11_mio0SegmentRomEnd),
LOAD_RAW(12,_group11_geoSegmentRomStart,_group11_geoSegmentRomEnd),
LOAD_MIO0(6,_group14_mio0SegmentRomStart,_group14_mio0SegmentRomEnd),
LOAD_RAW(13,_group14_geoSegmentRomStart,_group14_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
LOAD_MODEL_FROM_GEO(MODEL_SSL_PALM_TREE,           palm_tree_geo),
LOAD_MODEL_FROM_GEO(MODEL_LEVEL_GEOMETRY_03,       ssl_geo_0005C0),
LOAD_MODEL_FROM_GEO(MODEL_LEVEL_GEOMETRY_04,       ssl_geo_0005D8),
LOAD_MODEL_FROM_GEO(MODEL_SSL_PYRAMID_TOP,         ssl_geo_000618),
LOAD_MODEL_FROM_GEO(MODEL_SSL_GRINDEL,             ssl_geo_000734),
LOAD_MODEL_FROM_GEO(MODEL_SSL_SPINDEL,             ssl_geo_000764),
LOAD_MODEL_FROM_GEO(MODEL_SSL_MOVING_PYRAMID_WALL, ssl_geo_000794),
LOAD_MODEL_FROM_GEO(MODEL_SSL_PYRAMID_ELEVATOR,    ssl_geo_0007AC),
LOAD_MODEL_FROM_GEO(MODEL_SSL_TOX_BOX,             ssl_geo_000630),
LOAD_MODEL_FROM_GEO(22, warp_pipe_geo),
LOAD_MODEL_FROM_GEO(23, bubbly_tree_geo),
LOAD_MODEL_FROM_GEO(24, spiky_tree_geo),
LOAD_MODEL_FROM_GEO(25, snow_tree_geo),
LOAD_MODEL_FROM_GEO(27, palm_tree_geo),
LOAD_MODEL_FROM_GEO(31, metal_door_geo),
LOAD_MODEL_FROM_GEO(32, hazy_maze_door_geo),
LOAD_MODEL_FROM_GEO(34, castle_door_0_star_geo),
LOAD_MODEL_FROM_GEO(35, castle_door_1_star_geo),
LOAD_MODEL_FROM_GEO(36, castle_door_3_stars_geo),
LOAD_MODEL_FROM_GEO(37, key_door_geo),
LOAD_MODEL_FROM_GEO(38, castle_door_geo),
// LOAD_MODEL_FROM_GEO(88,0x0500c778),
// LOAD_MODEL_FROM_DL(132,0x08025f08,4),
// LOAD_MODEL_FROM_DL(158,0x0302c8a0,4),
// LOAD_MODEL_FROM_DL(159,0x0302bcd0,4),
// LOAD_MODEL_FROM_DL(161,0x0301cb00,4),
// LOAD_MODEL_FROM_DL(164,0x04032a18,4),
// LOAD_MODEL_FROM_DL(201,0x080048e0,4),
// LOAD_MODEL_FROM_DL(218,0x08024bb8,4),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_12),
JUMP_LINK(script_func_global_15),
JUMP_LINK(local_area_bitdw_1_),
JUMP_LINK(local_area_bitdw_2_),
FREE_LEVEL_POOL(),
MARIO_POS(1,0,0,0,0),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_bitdw_1_[] = {
AREA(1,Geo_bitdw_1_0x1c36460),
TERRAIN(col_bitdw_1_0xe07e3f0),
SET_BACKGROUND_MUSIC(0,58),
TERRAIN_TYPE(0),
JUMP_LINK(local_objects_bitdw_1_),
JUMP_LINK(local_warps_bitdw_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_bitdw_1_[] = {
OBJECT_WITH_ACTS(0,6729,-70,13714,0,180,0,0xa0000, bhvAirborneWarp,31),
OBJECT_WITH_ACTS(0,-8507,2773,-10645,0,270,0,0x1010000, bhvAirborneDeathWarp,31),
OBJECT_WITH_ACTS(22,-9059,1769,-10598,0,0,0,0x0, bhvWarpPipe,31),
OBJECT_WITH_ACTS(120,-8429,1846,-10601,0,0,0,0x0, bhvRecoveryHeart,31),
OBJECT_WITH_ACTS(128,-8681,-964,-10973,0,0,0,0x0, bhvCannon,31),
OBJECT_WITH_ACTS(128,-2726,3921,-13158,0,0,0,0x7f7f0000, bhvCannon,31),
OBJECT_WITH_ACTS(122,-9014,3093,-12980,0,0,0,0x3000000, bhvStar,31),
OBJECT_WITH_ACTS(22,2180,2043,-6033,0,270,0,0x20000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(202,-1920,470,-5469,0,0,0,0x0, bhvCheckerboardElevatorGroup,31),
OBJECT_WITH_ACTS(202,-1926,-280,-5985,0,0,0,0x0, bhvCheckerboardElevatorGroup,31),
OBJECT_WITH_ACTS(215,5373,-901,7105,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,3644,-1250,5501,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-3649,1,7621,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,1289,-1268,-2190,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,4231,-1603,-5500,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,951,1841,-4599,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-1688,1224,-13490,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-8657,-30,-15109,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(0,-8544,2287,-10325,0,0,0,0x0, bhvBowserCourseRedCoinStar,31),
OBJECT_WITH_ACTS(202,1259,-1600,-2060,0,0,0,0x0, bhvCheckerboardPlatformSub,31),
OBJECT_WITH_ACTS(122,-11611,1170,-1456,0,0,0,0x1000000, bhvStar,31),
OBJECT_WITH_ACTS(54,-10714,-29,-318,0,180,0,0x0, bhvHorizontalGrindel,31),
OBJECT_WITH_ACTS(54,-11846,-29,1197,0,180,0,0x0, bhvHorizontalGrindel,31),
OBJECT_WITH_ACTS(54,-6675,-1580,-542,0,270,0,0x0, bhvHorizontalGrindel,31),
OBJECT_WITH_ACTS(129,-992,-780,1029,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-990,-581,1252,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-989,-397,1455,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-976,-174,1649,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-980,25,1825,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(207,-1123,-1054,-1174,0,0,0,0x0, bhvFloorSwitchHiddenObjects,31),
OBJECT_WITH_ACTS(54,-11435,-29,-345,0,0,0,0x0, bhvHorizontalGrindel,31),
OBJECT_WITH_ACTS(54,-10331,-29,1193,0,0,0,0x0, bhvHorizontalGrindel,31),
OBJECT_WITH_ACTS(55,-6107,-1128,204,0,0,0,0x0, bhvSpindel,31),
OBJECT_WITH_ACTS(0,-915,1224,-11644,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(220,5941,0,13089,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(220,6693,0,12471,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(220,6452,0,11448,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(220,7159,0,13314,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(84,6955,48,12524,0,0,0,0x0, bhvEnemyLakitu,31),
OBJECT_WITH_ACTS(0,1857,-361,8729,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-2729,-986,7666,0,0,0,0x20000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(84,4495,48,8578,0,0,0,0x0, bhvEnemyLakitu,31),
OBJECT_WITH_ACTS(0,291,-1569,-981,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(220,412,-901,1972,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(223,-520,-944,435,0,310,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(0,3119,-1134,-4084,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(188,3302,-1603,-2834,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,3287,-1603,-5228,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,4629,-1603,-3683,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,4280,-1603,-4748,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(202,1020,-821,3233,0,88,0,0x0, bhvCheckerboardPlatformSub,31),
OBJECT_WITH_ACTS(188,4632,-297,-6015,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(0,4099,-1354,-3275,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,3515,-297,-6069,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(223,511,-298,-5968,0,90,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(180,335,1786,-4922,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-445,1495,-4711,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,654,1856,-5455,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,-1307,1224,-5420,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(223,-11364,768,2952,0,33,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(188,-1982,2822,-11757,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-2837,2822,-11663,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(212,-2086,3068,-9022,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(0,-2523,2822,-11934,0,0,0,0x20000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(202,-1926,2971,-12332,0,0,0,0x0, bhvCheckerboardElevatorGroup,31),
OBJECT_WITH_ACTS(84,-47,1843,-14168,0,0,0,0x0, bhvEnemyLakitu,31),
OBJECT_WITH_ACTS(180,-3979,1193,-13649,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-3130,1193,-14858,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(84,-4486,2009,-10788,0,0,0,0x0, bhvEnemyLakitu,31),
OBJECT_WITH_ACTS(0,-5899,1157,-9156,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(220,-9919,292,-10199,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(0,-2412,3844,-13171,0,0,0,0x20000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-8143,-98,-12584,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(220,-9837,544,-11267,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(220,-1408,3844,-13016,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(223,2673,-1270,5021,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(0,-1132,-986,6423,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(192,1699,-1270,6424,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(188,3406,-1244,3235,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(0,-3346,-262,2443,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(220,-1510,458,2302,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(220,-2540,458,2357,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(212,-6092,2163,3084,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(0,-8589,-142,-1167,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(129,-1012,-1097,-89,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-1017,-1097,-214,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-1023,-1097,-346,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-1025,-1097,-465,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(124,-8840,1761,-10796,0,90,0,0xa9a90000, bhvMessagePanel,31),
OBJECT_WITH_ACTS(22,6884,-1039,9969,0,0,0,0x40000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(22,-2084,1224,-11314,0,0,0,0x30000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(195,-2402,1224,-10901,0,0,0,0x0, bhvBobombBuddyOpensCannon,31),
OBJECT_WITH_ACTS(201,6879,-871,9948,0,0,0,0x0, bhvCannonClosed,31),
OBJECT_WITH_ACTS(201,-2075,1421,-11302,0,0,0,0x0, bhvCannonClosed,31),
OBJECT_WITH_ACTS(124,-1835,1224,-11243,0,81,0,0x48480000, bhvMessagePanel,31),
OBJECT_WITH_ACTS(116,-6164,1097,-12177,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,-5824,1389,-12330,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,-5571,1445,-12457,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(0,10,5,4,0,0,20,8, RM_Scroll_Texture,31),
OBJECT_WITH_ACTS(0,10,5,4,0,0,20,9, RM_Scroll_Texture,31),
RETURN()
};
const LevelScript local_warps_bitdw_1_[] = {
WARP_NODE(10,9,1,0,0),
WARP_NODE(0,30,1,10,0),
WARP_NODE(1,17,1,0,0),
WARP_NODE(2,17,2,10,128),
WARP_NODE(3,17,1,4,128),
WARP_NODE(4,17,1,3,0),
WARP_NODE(240,16,1,6,0),
WARP_NODE(241,16,1,7,0),
RETURN()
};
const LevelScript local_area_bitdw_2_[] = {
AREA(2,Geo_bitdw_2_0x1c36640),
TERRAIN(col_bitdw_2_0xe01c380),
SET_BACKGROUND_MUSIC(0,58),
TERRAIN_TYPE(0),
JUMP_LINK(local_objects_bitdw_2_),
JUMP_LINK(local_warps_bitdw_2_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_bitdw_2_[] = {
OBJECT_WITH_ACTS(22,-2547,-3390,18509,0,180,0,0xa0000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(86,-2497,-3697,15877,0,0,0,0x32320000, bhvTweester,31),
OBJECT_WITH_ACTS(122,-12159,-2666,-4966,0,0,0,0x2000000, bhvStar,31),
OBJECT_WITH_ACTS(0,-2549,-3390,17117,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-2614,-3390,15790,0,0,0,0x40000, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(124,-2317,-3390,16848,0,0,0,0x28280000, bhvMessagePanel,31),
OBJECT_WITH_ACTS(0,50,4,242,0,0,20,10, RM_Scroll_Texture,31),
RETURN()
};
const LevelScript local_warps_bitdw_2_[] = {
WARP_NODE(10,17,1,2,0),
WARP_NODE(240,16,1,6,0),
WARP_NODE(241,16,1,7,128),
RETURN()
};
