#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "areas/1/custom.model.inc.h"
#include "levels/wdw/header.h"
extern u8 _wdw_segment_ESegmentRomStart[]; 
extern u8 _wdw_segment_ESegmentRomEnd[];
#include "levels/ttc/header.h"
const LevelScript level_wdw_custom_entry[] = {
INIT_LEVEL(),
LOAD_MIO0(0x07, _ttc_segment_7SegmentRomStart, _ttc_segment_7SegmentRomEnd),
LOAD_RAW(0x1A, _ttcSegmentRomStart, _ttcSegmentRomEnd),
LOAD_RAW(0x0E, _wdw_segment_ESegmentRomStart, _wdw_segment_ESegmentRomEnd),
LOAD_MIO0(0xA,_bbh_skybox_mio0SegmentRomStart,_bbh_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group8_mio0SegmentRomStart,_group8_mio0SegmentRomEnd),
LOAD_RAW(12,_group8_geoSegmentRomStart,_group8_geoSegmentRomEnd),
LOAD_MIO0(6,_group14_mio0SegmentRomStart,_group14_mio0SegmentRomEnd),
LOAD_RAW(13,_group14_geoSegmentRomStart,_group14_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
LOAD_MODEL_FROM_GEO(MODEL_TTC_ROTATING_CUBE,     ttc_geo_000240),
    LOAD_MODEL_FROM_GEO(MODEL_TTC_ROTATING_PRISM,    ttc_geo_000258),
    LOAD_MODEL_FROM_GEO(MODEL_TTC_PENDULUM,          ttc_geo_000270),
    LOAD_MODEL_FROM_GEO(MODEL_TTC_LARGE_TREADMILL,   ttc_geo_000288),
    LOAD_MODEL_FROM_GEO(MODEL_TTC_SMALL_TREADMILL,   ttc_geo_0002A8),
    LOAD_MODEL_FROM_GEO(MODEL_TTC_PUSH_BLOCK,        ttc_geo_0002C8),
    LOAD_MODEL_FROM_GEO(MODEL_TTC_ROTATING_HEXAGON,  ttc_geo_0002E0),
    LOAD_MODEL_FROM_GEO(MODEL_TTC_ROTATING_TRIANGLE, ttc_geo_0002F8),
    LOAD_MODEL_FROM_GEO(MODEL_TTC_PIT_BLOCK,         ttc_geo_000310),
    LOAD_MODEL_FROM_GEO(MODEL_TTC_PIT_BLOCK_UNUSED,  ttc_geo_000328),
    LOAD_MODEL_FROM_GEO(MODEL_TTC_ELEVATOR_PLATFORM, ttc_geo_000340),
    LOAD_MODEL_FROM_GEO(MODEL_TTC_CLOCK_HAND,        ttc_geo_000358),
    LOAD_MODEL_FROM_GEO(MODEL_TTC_SPINNER,           ttc_geo_000370),
    LOAD_MODEL_FROM_GEO(MODEL_TTC_SMALL_GEAR,        ttc_geo_000388),
    LOAD_MODEL_FROM_GEO(MODEL_TTC_LARGE_GEAR,        ttc_geo_0003A0),
LOAD_MODEL_FROM_GEO(22, warp_pipe_geo),
LOAD_MODEL_FROM_GEO(23, bubbly_tree_geo),
LOAD_MODEL_FROM_GEO(24, spiky_tree_geo),
LOAD_MODEL_FROM_GEO(25, snow_tree_geo),
LOAD_MODEL_FROM_GEO(27, palm_tree_geo),
LOAD_MODEL_FROM_GEO(31, metal_door_geo),
LOAD_MODEL_FROM_GEO(32, hazy_maze_door_geo),
LOAD_MODEL_FROM_GEO(34, castle_door_0_star_geo),
LOAD_MODEL_FROM_GEO(35, castle_door_1_star_geo),
LOAD_MODEL_FROM_GEO(36, castle_door_3_stars_geo),
LOAD_MODEL_FROM_GEO(37, key_door_geo),
LOAD_MODEL_FROM_GEO(38, castle_door_geo),
// LOAD_MODEL_FROM_DL(84,0x05002e00,4),
// LOAD_MODEL_FROM_DL(86,0x05003120,4),
// LOAD_MODEL_FROM_DL(132,0x08025f08,4),
// LOAD_MODEL_FROM_DL(158,0x0302c8a0,4),
// LOAD_MODEL_FROM_DL(159,0x0302bcd0,4),
// LOAD_MODEL_FROM_DL(161,0x0301cb00,4),
// LOAD_MODEL_FROM_DL(164,0x04032a18,4),
// LOAD_MODEL_FROM_DL(201,0x080048e0,4),
// LOAD_MODEL_FROM_DL(218,0x08024bb8,4),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_9),
JUMP_LINK(script_func_global_15),
JUMP_LINK(local_area_wdw_1_),
FREE_LEVEL_POOL(),
MARIO_POS(1,135,-6558,0,6464),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_wdw_1_[] = {
AREA(1,Geo_wdw_1_0x1ba1700),
TERRAIN(col_wdw_1_0xe025ed0),
SET_BACKGROUND_MUSIC(0,41),
TERRAIN_TYPE(0),
JUMP_LINK(local_objects_wdw_1_),
JUMP_LINK(local_warps_wdw_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_wdw_1_[] = {
OBJECT_WITH_ACTS(0,7769,431,-10560,0,46,0,0xa0000, bhvSpinAirborneWarp,31),
OBJECT_WITH_ACTS(85,-1537,-5174,-2257,0,84,0,0x20000, bhvCapSwitch,31),
OBJECT_WITH_ACTS(137,6218,-1162,-1650,0,0,0,0xa0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(122,-3385,315,-9764,0,0,0,0x4000000, bhvStar,31),
OBJECT_WITH_ACTS(122,-4415,-873,12002,0,0,0,0x3000000, bhvStar,31),
OBJECT_WITH_ACTS(122,3648,-3616,10774,0,0,0,0x2000000, bhvStar,31),
OBJECT_WITH_ACTS(0,1418,-7923,3489,0,0,0,0x5000000, bhvHiddenStar,31),
OBJECT_WITH_ACTS(100,-5697,-8775,5650,0,0,0,0x10000, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-5003,-8775,4828,0,0,0,0x10000, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-4165,-8775,5456,0,0,0,0x10000, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-4950,-8719,6078,0,0,0,0x10000, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-5417,-8775,7097,0,0,0,0x10000, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-5493,-8775,6411,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-5337,-8775,5265,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-4734,-8775,5527,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-4815,-8775,6611,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-4400,-8775,6295,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-3912,-8775,5857,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-3947,-8775,6684,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(137,-53,-1323,538,0,0,0,0x20000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,114,-1824,10428,0,0,0,0x20000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(60,112,-2225,10431,0,0,0,0x0, bhvTTCCog,31),
OBJECT_WITH_ACTS(60,-3223,-2363,9169,180,0,0,0x0, bhvTTCCog,31),
OBJECT_WITH_ACTS(60,-2006,-2225,8579,0,0,0,0x0, bhvTTCCog,31),
OBJECT_WITH_ACTS(60,-695,-2363,7845,180,0,0,0x0, bhvTTCCog,31),
OBJECT_WITH_ACTS(60,564,-2363,8192,180,0,0,0x0, bhvTTCCog,31),
OBJECT_WITH_ACTS(60,846,-2225,9382,0,0,0,0x0, bhvTTCCog,31),
OBJECT_WITH_ACTS(61,-7071,-1684,1043,0,59,0,0x0, bhvTTCCog,31),
OBJECT_WITH_ACTS(61,-6633,-1486,325,0,59,0,0x0, bhvTTCCog,31),
OBJECT_WITH_ACTS(61,-5457,-1077,-1548,0,59,0,0x0, bhvTTCCog,31),
OBJECT_WITH_ACTS(54,-6133,-1535,-234,0,58,0,0x0, bhvTTCRotatingSolid,31),
OBJECT_WITH_ACTS(54,-5762,-1320,-807,0,58,0,0x0, bhvTTCRotatingSolid,31),
OBJECT_WITH_ACTS(54,-4887,-1282,-2169,0,58,0,0x0, bhvTTCRotatingSolid,31),
OBJECT_WITH_ACTS(59,1407,-5234,4206,0,215,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,1407,-5033,4206,0,215,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,1407,-4825,4206,0,215,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,-1525,-4331,5702,0,-155,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,-1525,-4115,5702,0,-155,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,-1525,-3915,5702,0,-155,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,-1964,-3724,6758,0,-100,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,-1964,-3518,6758,0,-100,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,-1965,-3310,6998,0,-100,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,-1858,-4060,6102,0,260,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,1244,-5234,4319,0,215,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,1076,-5019,4435,0,215,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,1573,-5234,4093,0,215,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(59,1738,-5234,3977,0,215,0,0x0, bhvTTCMovingBar,31),
OBJECT_WITH_ACTS(66,2011,-1724,-381,0,-7,90,0x0, bhvTTCSpinner,31),
OBJECT_WITH_ACTS(66,3529,-1724,597,0,-64,90,0x0, bhvTTCSpinner,31),
OBJECT_WITH_ACTS(66,4844,-1724,1960,0,-35,90,0x0, bhvTTCSpinner,31),
OBJECT_WITH_ACTS(66,473,-1724,47,0,40,90,0x0, bhvTTCSpinner,31),
OBJECT_WITH_ACTS(56,6255,-775,1819,0,131,0,0x0, bhvTTCPendulum,31),
OBJECT_WITH_ACTS(56,-3231,-685,5310,0,-38,0,0x0, bhvTTCPendulum,31),
OBJECT_WITH_ACTS(56,-1385,-1302,8185,0,-63,0,0x0, bhvTTCPendulum,31),
OBJECT_WITH_ACTS(56,351,-150,-10025,0,-43,0,0x0, bhvTTCPendulum,31),
OBJECT_WITH_ACTS(217,6255,-775,1819,0,131,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(217,-3231,-685,5310,0,-38,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(217,-1379,-1302,8183,0,-63,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(217,351,-150,-10025,0,-43,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(194,2785,-5195,5300,0,0,0,0x0, bhvHomingAmp,31),
OBJECT_WITH_ACTS(116,1569,-7387,1678,0,3,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(0,1569,-7387,1678,0,3,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,1569,-7586,1678,0,3,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(116,1569,-6186,1678,0,3,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(0,1569,-6186,1678,0,3,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,1569,-6385,1678,0,3,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(116,1569,-4940,1678,0,3,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(0,1569,-4940,1678,0,3,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,1569,-5139,1678,0,3,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(116,1569,-3740,1678,0,3,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(0,1569,-3740,1678,0,3,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,1569,-3938,1678,0,3,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(116,1569,-2816,1678,0,3,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(0,1569,-2816,1678,0,3,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,1569,-3015,1678,0,3,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(137,-1111,-856,2797,0,0,0,0x0, bhvExclamationBox,48),
OBJECT_WITH_ACTS(0,224,-4969,5710,0,-63,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,6242,-1724,-606,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(140,-1044,-8625,2802,0,0,0,0x0, bhvBlueCoinSwitch,31),
OBJECT_WITH_ACTS(0,2606,-4493,-3030,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,2619,-4863,6285,0,36,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-9385,-1724,5490,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-177,-4990,-3232,0,-21,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-2147,-2924,-826,0,-26,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(100,-2887,-1724,4871,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-548,-1724,-5323,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-8114,-1724,3337,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-8099,-1724,7198,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-4410,-1875,10164,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,2380,-4575,-4308,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,2194,-1125,-10768,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,6717,-1724,1122,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,74,-8579,3913,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,6353,-4424,8161,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-5473,-2435,6677,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(188,3951,-4125,10808,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-1284,-3674,-3449,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-4389,-2325,8859,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-7943,-2924,5755,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-492,-1724,-6857,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-4089,-1125,-4645,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-3449,-285,-9743,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-908,-5174,-2171,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-535,-4706,5800,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(180,-3306,-2838,2063,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-3991,-2837,2678,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-5254,-2855,3222,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-7149,-2832,3931,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-1942,-8617,4800,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,4011,-4672,6338,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,535,-5273,4558,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,1886,-5273,3660,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-3771,-1372,10841,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,646,-3334,-7546,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-2606,-2837,616,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,-111,-1442,-8445,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-1186,-2924,-2169,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,4114,8545,-6828,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-4135,-1424,11534,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,6563,-1724,-60,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-8290,-2924,4746,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(192,6192,-1724,-1696,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(118,-1020,-8628,3381,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-1174,-8625,3878,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-1461,-8625,4280,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-1821,-8715,4671,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-2151,-8746,5103,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-2480,-8775,5536,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(129,-1639,-3150,-4403,0,0,0,0x0, bhvJumpingBox,31),
OBJECT_WITH_ACTS(124,-851,-1364,2967,0,-98,0,0x0, bhvMessagePanel,15),
OBJECT_WITH_ACTS(0,4,5,12,0,0,0,0,editor_Scroll_Texture,31),
OBJECT_WITH_ACTS(0,4,5,15,12,0,0,1,editor_Scroll_Texture,31),
OBJECT_WITH_ACTS(0,4,5,6,6,0,0,2,editor_Scroll_Texture,31),
OBJECT_WITH_ACTS(0,4,5,6,0,0,0,3,editor_Scroll_Texture,31),
OBJECT_WITH_ACTS(0,4,5,9,0,0,0,4,editor_Scroll_Texture,31),
OBJECT_WITH_ACTS(0,4,5,9,9,0,0,5,editor_Scroll_Texture,31),
OBJECT_WITH_ACTS(0,4,5,12,6,0,0,6,editor_Scroll_Texture,31),
OBJECT_WITH_ACTS(0,4,5,6,9,0,0,7,editor_Scroll_Texture,31),
RETURN()
};
const LevelScript local_warps_wdw_1_[] = {
WARP_NODE(10,9,1,10,0),
WARP_NODE(11,9,1,12,0),
WARP_NODE(12,9,1,11,0),
WARP_NODE(13,9,1,14,0),
WARP_NODE(14,9,1,13,0),
WARP_NODE(240,5,1,240,0),
WARP_NODE(241,5,1,241,0),
WARP_NODE(0,9,1,10,0),
WARP_NODE(1,9,1,10,0),
WARP_NODE(2,9,1,10,0),
WARP_NODE(3,9,1,10,0),
WARP_NODE(4,9,1,10,0),
WARP_NODE(5,9,1,10,0),
WARP_NODE(6,9,1,10,0),
RETURN()
};
